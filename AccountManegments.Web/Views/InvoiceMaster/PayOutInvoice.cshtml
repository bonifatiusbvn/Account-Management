@using AccountManegments.Web.Models;
@inject IHttpContextAccessor Accessor;
@inject UserSession _userSession
@{
    ViewData["Title"] = "Payment Out";
    Layout = "~/Views/Shared/Main_Layout.cshtml";
}

<input type="hidden" id="txtSiteId" value="@UserSession.SiteId" hidden />
<input type="hidden" id="txtUserId" value="@_userSession.UserId" hidden />


<div class="">
    <div class="">
        <div class=" radius-10 w-100">
            <div class="d-flex align-items-center">
            </div>
            <div class="my-3 border-bottom"></div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="row justify-content-center">
                        <div class="col-xxl-12">
                            <div class="row">
                                <div class="col-12">
                                    <div class="card">
                                        <div class="card-body">
                                            <ul class="nav nav-pills mb-3 row" role="tablist">
                                                <li class="nav-item col-md-2" role="presentation">
                                                    <select id="textPayoutReportCompanyName" name="textPayoutReportCompanyName" class="form-control">
                                                        <option value="">Select Company</option>
                                                    </select>
                                                </li>
                                                <li class="nav-item col-md-2" role="presentation">
                                                    <input type="text" id="textPayoutReportSupplierName" name="textPayoutReportSupplierName" class="form-control" placeholder="Supplier" />
                                                    <input type="hidden" id="textPayoutReportSupplierNameHidden" name="textPayoutReportSupplierNameHidden" />
                                                </li>
                                                <li class="nav-item col-md-2" role="presentation">
                                                    <select id="textPayoutReportGroupList" name="textPayoutReportGroupList" class="form-control">
                                                        <option value="">Select Group</option>
                                                    </select>
                                                </li>
                                                <li class="nav-item col-md-2" role="presentation">
                                                    <select id="timePeriodPayoutDropdown" name="timePeriodPayoutDropdown" class="form-control">
                                                        <option value="" selected disabled>Search By</option>
                                                        <option value="This Month">This Month</option>
                                                        <option value="This Year">This Year</option>
                                                        <option value="Between Date">Between Date</option>
                                                        <option value="Between Year">Between Year</option>
                                                    </select>
                                                </li>
                                                <li class="nav-item col-md-2 d-flex align-items-center gap-2" role="presentation" id="dateYearControls">
                                                    <input class="form-control date-input" placeholder="dd-mm-yyyy" type="date" id="PayoutstartDate" style="display:none;width: 135px;">
                                                    <input class="form-control date-input" placeholder="dd-mm-yyyy" type="date" id="PayoutendDate" style="display:none;width: 135px;">
                                                    <select id="PayoutyearDropdown" class="form-control" style="display:none; width: 110px;">
                                                        <option value="">Select Year</option>
                                                    </select>
                                                    <button class="btn btn-primary nav-btn" id="searchPayoutReportButton" onclick="SearchPayoutReportData()" data-bs-toggle="tab" role="tab">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
                                                            <path fill="currentColor" d="m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14" />
                                                        </svg>
                                                    </button>
                                                    <button type="button" class="btn btn-primary nav-btn" id="ResetButton" onclick="fn_ResetAllPayoutDropdown()" data-bs-toggle="tab" role="tab">Reset</button>
                                                </li>
                                            </ul>
                                            <div class="tab-content" id="pills-tabContent">
                                                <div class="tab-pane fade show active" id="credit-card" role="tabpanel">
                                                    <div class="p-3 border rounded">
                                                        <div class="table-wrapper">
                                                            <table class="table mb-0">
                                                                <thead class="table-light btn-primary">
                                                                    <tr>
                                                                        <th style="width:360px">Supplier</th>
                                                                        <th style="width:360px">Credit</th>
                                                                        <th style="width:360px">Debit</th>
                                                                        <th style="width:360px">Net Amount</th>
                                                                    </tr>
                                                                </thead>
                                                            </table>
                                                            <div class="table-body-wrapper" style=" overflow-y: auto; max-height: 450px;">
                                                                <table class="table mb-0">
                                                                    <tbody id="reportInvoicenet">
                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                            <table class="table mb-0">
                                                                <tfoot id="reportInvoicenetFooter" class="bg-light">
                                                                    <tr style="height:55px;">
                                                                        <td colspan="4"></td>
                                                                    </tr>
                                                                </tfoot>
                                                            </table>
                                                        </div>
                                                        <div id="downloadnetreportfile" class="col-12 text-end mt-3" style="display:none;">
                                                            <a class="btn" onclick="ExportNetReportToExcel()" style="background-color:#018749;color:white;">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 48 48">
                                                                    <path fill="currentColor" fill-rule="evenodd" d="M29 6v8h13v2H29v7h13V8c0-1.105-.836-2-1.867-2zm0 19h13v7H29zm0 9h13v6c0 1.105-.836 2-1.867 2H29zm-2 0v8H15.867C14.836 42 14 41.105 14 40v-6zm0-20H14V8c0-1.105.836-2 1.867-2H27zm-3.948 2v7H27v-7zm0 9v7H27v-7zM6 17a1 1 0 0 1 1-1h13.158a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm3.607 2h2.26l1.834 3.754L15.64 19h2.112l-2.91 5l2.976 5H15.59l-1.999-3.93l-1.99 3.93H9.34l3.024-5.018z" clip-rule="evenodd" />
                                                                </svg><span>  </span>Export To Excel
                                                            </a>
                                                            <a class="btn" onclick="ExportNetReportToPDF()" style="background-color:#B31B1B;color:white;">
                                                                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 1536 1792">
                                                                    <path fill="currentColor" d="M1468 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28H96q-40 0-68-28t-28-68V96q0-40 28-68T96 0h896q40 0 88 20t76 48zm-444-244v376h376q-10-29-22-41l-313-313q-12-12-41-22m384 1528V640H992q-40 0-68-28t-28-68V128H128v1536zm-514-593q33 26 84 56q59-7 117-7q147 0 177 49q16 22 2 52q0 1-1 2l-2 2v1q-6 38-71 38q-48 0-115-20t-130-53q-221 24-392 83q-153 262-242 262q-15 0-28-7l-24-12q-1-1-6-5q-10-10-6-36q9-40 56-91.5t132-96.5q14-9 23 6q2 2 2 4q52-85 107-197q68-136 104-262q-24-82-30.5-159.5T657 552q11-40 42-40h22q23 0 35 15q18 21 9 68q-2 6-4 8q1 3 1 8v30q-2 123-14 192q55 164 146 238m-576 411q52-24 137-158q-51 40-87.5 84t-49.5 74m398-920q-15 42-2 132q1-7 7-44q0-3 7-43q1-4 4-8q-1-1-1-2q-1-2-1-3q-1-22-13-36q0 1-1 2zm-124 661q135-54 284-81q-2-1-13-9.5t-16-13.5q-76-67-127-176q-27 86-83 197q-30 56-45 83m646-16q-24-24-140-24q76 28 124 28q14 0 18-1q0-1-2-3" />
                                                                </svg><span> </span>Export To Pdf
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<!--end card-->
@section Scripts {
    <script src="~/moduls/payoutscript.js" asp-append-version="true"></script>
}
